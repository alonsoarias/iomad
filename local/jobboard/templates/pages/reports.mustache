{{!
    @template local_jobboard/pages/reports

    Reports page template with tabs and filters.

    Context variables:
    * pageheader - Page header data
    * reporttypes - Array of report type tabs
    * currentreport - Current active report type
    * filterform - Filter form HTML
    * exportlinks - Export format links
    * reportcontent - Report content HTML
    * hasdata - Boolean if has report data

    Example context (json):
    {
        "reporttypes": [{"id": "overview", "label": "Overview", "active": true}],
        "hasdata": true
    }
}}
<div class="local-jobboard-reports" data-region="jobboard-reports">
    {{! Page Header }}
    {{> local_jobboard/components/page_header }}

    {{! Report Type Tabs }}
    <ul class="nav nav-tabs mb-4">
        {{#reporttypes}}
        <li class="nav-item">
            <a class="nav-link {{#active}}active{{/active}}" href="{{url}}">
                {{#icon}}<i class="fa fa-{{icon}} mr-2"></i>{{/icon}}
                {{label}}
            </a>
        </li>
        {{/reporttypes}}
    </ul>

    {{! Filter and Export Row }}
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <form class="form-inline" method="get" action="{{filteraction}}">
                <input type="hidden" name="view" value="reports">
                <input type="hidden" name="report" value="{{currentreport}}">

                {{! Vacancy Filter }}
                <div class="form-group mr-3 mb-2">
                    <label class="mr-2">{{#str}}vacancy, local_jobboard{{/str}}</label>
                    <select name="vacancyid" class="form-control form-control-sm">
                        <option value="0">{{#str}}allvacancies, local_jobboard{{/str}}</option>
                        {{#vacancies}}
                        <option value="{{id}}" {{#selected}}selected{{/selected}}>{{code}}</option>
                        {{/vacancies}}
                    </select>
                </div>

                {{! Date From }}
                <div class="form-group mr-3 mb-2">
                    <label class="mr-2">{{#str}}datefrom, local_jobboard{{/str}}</label>
                    <input type="date" name="datefrom" class="form-control form-control-sm" value="{{datefrom}}">
                </div>

                {{! Date To }}
                <div class="form-group mr-3 mb-2">
                    <label class="mr-2">{{#str}}dateto, local_jobboard{{/str}}</label>
                    <input type="date" name="dateto" class="form-control form-control-sm" value="{{dateto}}">
                </div>

                <button type="submit" class="btn btn-primary btn-sm mr-2 mb-2">
                    <i class="fa fa-filter mr-1"></i>
                    {{#str}}filter{{/str}}
                </button>

                {{! Export Buttons }}
                <div class="btn-group mb-2">
                    {{#exportlinks}}
                    <a href="{{url}}" class="btn btn-sm btn-outline-secondary">
                        <i class="fa fa-{{icon}} mr-1"></i>
                        {{label}}
                    </a>
                    {{/exportlinks}}
                </div>
            </form>
        </div>
    </div>

    {{! Report Content }}
    {{#hasdata}}
    {{{reportcontent}}}
    {{/hasdata}}

    {{^hasdata}}
    <div class="text-center py-5">
        <i class="fa fa-chart-bar fa-4x text-muted mb-3"></i>
        <h4 class="text-muted">{{#str}}nodata, local_jobboard{{/str}}</h4>
        <p class="text-muted">{{#str}}trydifferentfilters, local_jobboard{{/str}}</p>
    </div>
    {{/hasdata}}
</div>

<style>
.local-jobboard-reports .nav-tabs .nav-link {
    border-radius: 0;
}
.local-jobboard-reports .nav-tabs .nav-link.active {
    border-bottom: 3px solid #007bff;
    font-weight: 600;
}
</style>
