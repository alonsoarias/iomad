{{!
    @template local_jobboard/components/timeline

    Timeline component for status history.

    Context variables:
    * title - Optional card header title
    * icon - Optional header icon
    * events - Array of timeline events with:
        - title: Event title
        - description: Optional description
        - date: Formatted date string
        - time: Optional time string
        - icon: FontAwesome icon
        - color: Bootstrap color
        - user: Optional user name
        - current: Boolean for current/active state

    Example context (json):
    {
        "title": "Application History",
        "icon": "history",
        "events": [
            {
                "title": "Application Submitted",
                "description": "Initial submission",
                "date": "Dec 5, 2025",
                "time": "10:30 AM",
                "icon": "paper-plane",
                "color": "primary",
                "user": "John Doe"
            }
        ]
    }
}}
<div class="card shadow-sm mb-4 jb-timeline">
    {{#title}}
    <div class="card-header bg-light">
        <h2 class="h5 mb-0">
            {{#icon}}
            <i class="fa fa-{{icon}} mr-2" aria-hidden="true"></i>
            {{/icon}}
            {{title}}
        </h2>
    </div>
    {{/title}}

    <div class="card-body">
        {{#events.0}}
        <ol class="timeline list-unstyled" role="list" aria-label="{{#str}}statushistory, local_jobboard{{/str}}">
            {{#events}}
            <li class="timeline-item{{#current}} timeline-item-current{{/current}}" role="listitem">
                <div class="timeline-marker bg-{{#color}}{{color}}{{/color}}{{^color}}secondary{{/color}}" aria-hidden="true">
                    <i class="fa fa-{{#icon}}{{icon}}{{/icon}}{{^icon}}circle{{/icon}} text-white"></i>
                </div>
                <article class="timeline-content">
                    <div class="d-flex justify-content-between align-items-start mb-1">
                        <h3 class="h6 mb-0 font-weight-bold">{{title}}</h3>
                        <time class="text-muted small" datetime="{{datetime}}">
                            {{date}}
                            {{#time}}<br><span class="sr-only">{{#str}}at, local_jobboard{{/str}}</span>{{time}}{{/time}}
                        </time>
                    </div>
                    {{#description}}
                    <p class="text-muted mb-1 small">{{description}}</p>
                    {{/description}}
                    {{#user}}
                    <small class="text-muted">
                        <i class="fa fa-user mr-1" aria-hidden="true"></i>
                        <span class="sr-only">{{#str}}performedby, local_jobboard{{/str}}:</span>
                        {{user}}
                    </small>
                    {{/user}}
                    {{#current}}
                    <span class="sr-only">{{#str}}currentstatus, local_jobboard{{/str}}</span>
                    {{/current}}
                </article>
            </li>
            {{/events}}
        </ol>
        {{/events.0}}

        {{^events.0}}
        <p class="text-muted text-center mb-0" role="status">{{#str}}nohistory, local_jobboard{{/str}}</p>
        {{/events.0}}
    </div>
</div>
{{! Styles moved to styles.css - Timeline Component section }}
