{{!
    @template local_jobboard/components/timeline

    Timeline component for status history.

    Context variables:
    * title - Optional card header title
    * icon - Optional header icon
    * events - Array of timeline events with:
        - title: Event title
        - description: Optional description
        - date: Formatted date string
        - time: Optional time string
        - icon: FontAwesome icon
        - color: Bootstrap color
        - user: Optional user name
        - current: Boolean for current/active state

    Example context (json):
    {
        "title": "Application History",
        "icon": "history",
        "events": [
            {
                "title": "Application Submitted",
                "description": "Initial submission",
                "date": "Dec 5, 2025",
                "time": "10:30 AM",
                "icon": "paper-plane",
                "color": "primary",
                "user": "John Doe"
            }
        ]
    }
}}
<div class="jb-card jb-shadow-sm jb-mb-4 jb-timeline">
    {{#title}}
    <div class="jb-card-header jb-bg-light">
        <h2 class="jb-fs-5 jb-mb-0">
            {{#icon}}
            <i class="fa fa-{{icon}} jb-mr-2" aria-hidden="true"></i>
            {{/icon}}
            {{title}}
        </h2>
    </div>
    {{/title}}

    <div class="jb-card-body">
        {{#events.0}}
        <ol class="jb-timeline-list jb-list-unstyled" role="list" aria-label="{{#str}}statushistory, local_jobboard{{/str}}">
            {{#events}}
            <li class="jb-timeline-item{{#current}} jb-timeline-item-current{{/current}}" role="listitem">
                <div class="jb-timeline-marker jb-bg-{{#color}}{{color}}{{/color}}{{^color}}secondary{{/color}}" aria-hidden="true">
                    <i class="fa fa-{{#icon}}{{icon}}{{/icon}}{{^icon}}circle{{/icon}} jb-text-white"></i>
                </div>
                <article class="jb-timeline-content">
                    <div class="jb-d-flex jb-justify-content-between jb-align-items-start jb-mb-1">
                        <h3 class="jb-fs-6 jb-mb-0 jb-fw-bold">{{title}}</h3>
                        <time class="jb-text-muted jb-fs-sm" datetime="{{datetime}}">
                            {{date}}
                            {{#time}}<br><span class="jb-sr-only">{{#str}}at, local_jobboard{{/str}}</span>{{time}}{{/time}}
                        </time>
                    </div>
                    {{#description}}
                    <p class="jb-text-muted jb-mb-1 jb-fs-sm">{{description}}</p>
                    {{/description}}
                    {{#user}}
                    <small class="jb-text-muted">
                        <i class="fa fa-user jb-mr-1" aria-hidden="true"></i>
                        <span class="jb-sr-only">{{#str}}performedby, local_jobboard{{/str}}:</span>
                        {{user}}
                    </small>
                    {{/user}}
                    {{#current}}
                    <span class="jb-sr-only">{{#str}}currentstatus, local_jobboard{{/str}}</span>
                    {{/current}}
                </article>
            </li>
            {{/events}}
        </ol>
        {{/events.0}}

        {{^events.0}}
        <p class="jb-text-muted jb-text-center jb-mb-0" role="status">{{#str}}nohistory, local_jobboard{{/str}}</p>
        {{/events.0}}
    </div>
</div>
{{! Styles moved to styles.css - Timeline Component section }}
