{{!
    @template local_jobboard/components/vacancy_card

    Reusable vacancy card component.

    Context variables:
    * id - Vacancy ID
    * code - Vacancy code
    * title - Vacancy title
    * description - Short description
    * location - Location
    * contracttypelabel - Contract type label
    * positions - Number of positions
    * statuslabel - Status label
    * statuscolor - Color for status (primary, success, warning, etc.)
    * isurgent - Boolean if closing soon
    * daysremaining - Days until close
    * publicationtypelabel - Publication type label
    * publicationtypecolor - Publication type color
    * convocatoriacode - Convocatoria code if exists
    * viewurl - View details URL
    * applyurl - Apply URL
    * editurl - Edit URL (for managers)
    * canapply - Boolean if can apply
    * canedit - Boolean if can edit
    * showstatus - Boolean to show status badge
    * showactions - Boolean to show action buttons

    Example context (json):
    {
        "id": 1,
        "code": "VAC-001",
        "title": "Software Developer",
        "canapply": true
    }
}}
<article class="jb-vacancy-card{{#isurgent}} jb-border-left-warning{{/isurgent}}" data-vacancy-id="{{id}}" aria-labelledby="vacancy-title-{{id}}">
    {{! Card Header }}
    <div class="jb-vacancy-card-header jb-d-flex jb-justify-content-between jb-align-items-center">
        <span class="jb-badge jb-badge-secondary" aria-label="{{#str}}vacancycode, local_jobboard{{/str}}: {{code}}">{{code}}</span>
        <div>
            {{#showstatus}}
            <span class="jb-badge jb-badge-{{statuscolor}} jb-mr-1" role="status">{{statuslabel}}</span>
            {{/showstatus}}
            {{#publicationtypelabel}}
            <span class="jb-badge jb-badge-{{publicationtypecolor}}">{{publicationtypelabel}}</span>
            {{/publicationtypelabel}}
        </div>
    </div>

    {{! Card Body }}
    <div class="jb-vacancy-card-body">
        <h5 class="jb-vacancy-card-title" id="vacancy-title-{{id}}">{{title}}</h5>

        {{! Convocatoria Badge }}
        {{#convocatoriacode}}
        <div class="jb-mb-2">
            <i class="fa fa-folder-open jb-text-muted jb-mr-1" aria-hidden="true"></i>
            <span class="jb-badge jb-badge-light">{{convocatoriacode}}</span>
        </div>
        {{/convocatoriacode}}

        <div class="jb-vacancy-card-meta">
            {{! Location }}
            {{#location}}
            <span>
                <i class="fa fa-map-marker-alt jb-mr-1" aria-hidden="true"></i>
                <span class="jb-sr-only">{{#str}}location, local_jobboard{{/str}}:</span>
                {{location}}
            </span>
            {{/location}}

            {{! Contract Type }}
            {{#contracttypelabel}}
            <span>
                <i class="fa fa-briefcase jb-mr-1" aria-hidden="true"></i>
                <span class="jb-sr-only">{{#str}}contracttype, local_jobboard{{/str}}:</span>
                {{contracttypelabel}}
            </span>
            {{/contracttypelabel}}

            {{! Positions }}
            <span>
                <i class="fa fa-users jb-mr-1" aria-hidden="true"></i>
                {{#str}}positions, local_jobboard{{/str}}: <strong>{{positions}}</strong>
            </span>
        </div>

        {{! Description }}
        {{#description}}
        <p class="jb-vacancy-card-desc">{{description}}</p>
        {{/description}}
    </div>

    {{! Card Footer }}
    {{#showactions}}
    <div class="jb-vacancy-card-footer">
        {{! Closing Date }}
        <small class="jb-d-block jb-mb-2 {{#isurgent}}jb-text-warning jb-fw-bold{{/isurgent}}{{^isurgent}}jb-text-muted{{/isurgent}}">
            <i class="fa fa-{{#isurgent}}exclamation-triangle{{/isurgent}}{{^isurgent}}calendar-alt{{/isurgent}} jb-mr-1" aria-hidden="true"></i>
            {{#isurgent}}<span class="jb-sr-only">{{#str}}urgent, local_jobboard{{/str}}:</span>{{/isurgent}}
            {{#str}}closesin, local_jobboard, {{daysremaining}}{{/str}}
        </small>

        {{! Action Buttons }}
        <div class="jb-d-flex jb-justify-content-between jb-card-actions">
            <a href="{{viewurl}}" class="jb-btn jb-btn-sm jb-btn-outline-primary" aria-label="{{#str}}viewdetails, local_jobboard{{/str}}: {{title}}">
                <i class="fa fa-eye jb-mr-1" aria-hidden="true"></i>
                {{#str}}view, local_jobboard{{/str}}
            </a>

            {{#canapply}}
            <a href="{{applyurl}}" class="jb-btn jb-btn-sm jb-btn-primary" aria-label="{{#str}}applyto, local_jobboard{{/str}}: {{title}}">
                <i class="fa fa-paper-plane jb-mr-1" aria-hidden="true"></i>
                {{#str}}apply, local_jobboard{{/str}}
            </a>
            {{/canapply}}

            {{#canedit}}
            <a href="{{editurl}}" class="jb-btn jb-btn-sm jb-btn-outline-secondary" aria-label="{{#str}}editvacancy, local_jobboard{{/str}}: {{title}}">
                <i class="fa fa-edit jb-mr-1" aria-hidden="true"></i>
                {{#str}}edit{{/str}}
            </a>
            {{/canedit}}
        </div>
    </div>
    {{/showactions}}
</article>
