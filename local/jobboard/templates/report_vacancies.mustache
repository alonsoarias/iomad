{{!
    @template local_jobboard/report_vacancies

    Vacancies report template.

    Context variables:
    * title - Report title
    * description - Report description
    * filters - Filter form HTML
    * stats - Summary statistics
    * vacancies - Array of vacancy data
    * hasvacancies - Boolean
    * columns - Table column definitions
    * exportbuttons - Export buttons HTML
    * pagination - Pagination HTML
}}
<div class="jb-report jb-report-vacancies">
    <div class="jb-card jb-mb-4">
        <div class="jb-card-header jb-d-flex jb-justify-content-between jb-align-items-center">
            <h4 class="jb-mb-0">{{title}}</h4>
            {{{exportbuttons}}}
        </div>
        <div class="jb-card-body">
            {{#description}}
            <p class="jb-text-muted jb-mb-4">{{description}}</p>
            {{/description}}

            {{{filters}}}

            {{#stats}}
            <div class="jb-row jb-mb-4">
                {{#items}}
                <div class="jb-col-md-3 jb-col-sm-6 jb-mb-2">
                    <div class="jb-stat-card jb-p-3 jb-bg-light jb-rounded">
                        <div class="jb-stat-value jb-h4 jb-mb-0">{{value}}</div>
                        <div class="jb-stat-label jb-text-muted jb-small">{{label}}</div>
                    </div>
                </div>
                {{/items}}
            </div>
            {{/stats}}

            {{#hasvacancies}}
            <div class="jb-table-responsive">
                <table class="jb-table jb-table-striped jb-table-hover">
                    <thead>
                        <tr>
                            {{#columns}}
                            <th{{#sortable}} class="jb-sortable"{{/sortable}}>
                                {{label}}
                                {{#sortable}}
                                <i class="fa fa-sort jb-text-muted" aria-hidden="true"></i>
                                {{/sortable}}
                            </th>
                            {{/columns}}
                        </tr>
                    </thead>
                    <tbody>
                        {{#vacancies}}
                        <tr>
                            <td>{{code}}</td>
                            <td>
                                <a href="{{viewurl}}">{{title}}</a>
                            </td>
                            <td>{{convocatorianame}}</td>
                            <td>
                                <span class="jb-badge jb-badge-{{statuscolor}}">{{statuslabel}}</span>
                            </td>
                            <td>{{positions}}</td>
                            <td>{{applicationcount}}</td>
                            <td>{{closedateformatted}}</td>
                            <td>
                                <a href="{{viewurl}}" class="jb-btn jb-btn-sm jb-btn-outline-primary">
                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                </a>
                            </td>
                        </tr>
                        {{/vacancies}}
                    </tbody>
                </table>
            </div>
            {{{pagination}}}
            {{/hasvacancies}}
            {{^hasvacancies}}
            <div class="jb-text-center jb-py-5">
                <i class="fa fa-briefcase fa-3x jb-text-muted jb-mb-3" aria-hidden="true"></i>
                <p class="jb-text-muted">{{#str}}novacanciesreport, local_jobboard{{/str}}</p>
            </div>
            {{/hasvacancies}}
        </div>
    </div>
</div>
