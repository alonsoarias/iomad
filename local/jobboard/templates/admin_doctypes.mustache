{{!
    @template local_jobboard/admin_doctypes

    Admin document types management template.

    Context variables:
    * doctypes - Document types array
    * hasdoctypes - Boolean
    * count - Total count
    * pagination - Pagination HTML
    * createurl - URL to create new doctype
}}
<div class="jb-admin-doctypes">
    {{> local_jobboard/admin_tabs }}

    <div class="jb-d-flex jb-justify-content-between jb-align-items-center jb-mb-4">
        <h4>{{#str}}documenttypes, local_jobboard{{/str}}</h4>
        <a href="{{createurl}}" class="jb-btn jb-btn-primary">
            <i class="fa fa-plus jb-mr-1" aria-hidden="true"></i>
            {{#str}}createdoctype, local_jobboard{{/str}}
        </a>
    </div>

    {{#hasdoctypes}}
    <div class="jb-card">
        <div class="jb-table-responsive">
            <table class="jb-table jb-table-hover jb-mb-0">
                <thead class="jb-thead-light">
                    <tr>
                        <th>{{#str}}code, local_jobboard{{/str}}</th>
                        <th>{{#str}}name, local_jobboard{{/str}}</th>
                        <th>{{#str}}required, local_jobboard{{/str}}</th>
                        <th>{{#str}}validityperiod, local_jobboard{{/str}}</th>
                        <th>{{#str}}documents, local_jobboard{{/str}}</th>
                        <th>{{#str}}status, local_jobboard{{/str}}</th>
                        <th>{{#str}}actions, local_jobboard{{/str}}</th>
                    </tr>
                </thead>
                <tbody>
                    {{#doctypes}}
                    <tr>
                        <td><code>{{code}}</code></td>
                        <td>
                            {{name}}
                            {{#description}}
                            <br><small class="jb-text-muted">{{description}}</small>
                            {{/description}}
                        </td>
                        <td>
                            {{#isrequired}}
                            <span class="jb-badge jb-badge-danger">{{#str}}required, local_jobboard{{/str}}</span>
                            {{/isrequired}}
                            {{^isrequired}}
                            <span class="jb-badge jb-badge-secondary">{{#str}}optional, local_jobboard{{/str}}</span>
                            {{/isrequired}}
                        </td>
                        <td>
                            {{#hasvalidityperiod}}
                            {{validityperiod}} {{#str}}days, local_jobboard{{/str}}
                            {{/hasvalidityperiod}}
                            {{^hasvalidityperiod}}
                            <span class="jb-text-muted">-</span>
                            {{/hasvalidityperiod}}
                        </td>
                        <td>{{documentcount}}</td>
                        <td>
                            <span class="jb-badge jb-badge-{{enabledclass}}">
                                {{#enabled}}{{#str}}enabled, local_jobboard{{/str}}{{/enabled}}
                                {{^enabled}}{{#str}}disabled, local_jobboard{{/str}}{{/enabled}}
                            </span>
                        </td>
                        <td>
                            <div class="jb-btn-group jb-btn-group-sm">
                                <a href="{{editurl}}" class="jb-btn jb-btn-outline-secondary" title="{{#str}}edit, local_jobboard{{/str}}">
                                    <i class="fa fa-edit" aria-hidden="true"></i>
                                </a>
                                {{#candelete}}
                                <a href="{{deleteurl}}" class="jb-btn jb-btn-outline-danger" title="{{#str}}delete, local_jobboard{{/str}}" data-confirm="{{#str}}confirmdeletedoctype, local_jobboard{{/str}}">
                                    <i class="fa fa-trash" aria-hidden="true"></i>
                                </a>
                                {{/candelete}}
                            </div>
                        </td>
                    </tr>
                    {{/doctypes}}
                </tbody>
            </table>
        </div>
    </div>
    {{{pagination}}}
    {{/hasdoctypes}}
    {{^hasdoctypes}}
    {{> local_jobboard/components/empty_state }}
    {{/hasdoctypes}}
</div>
