{{!
    @template local_jobboard/review_comments

    Review comments/notes component.

    Context variables:
    * comments - Array of comment objects
    * hascomments - Boolean
    * canaddcomment - Boolean
    * addcommenturl - URL to add comment form
}}
<div class="jb-review-comments">
    <h6 class="jb-mb-3">{{#str}}reviewcomments, local_jobboard{{/str}}</h6>

    {{#hascomments}}
    <div class="jb-comments-list">
        {{#comments}}
        <div class="jb-comment jb-mb-3 jb-p-3 jb-bg-light jb-rounded">
            <div class="jb-d-flex jb-justify-content-between jb-align-items-start jb-mb-2">
                <div class="jb-d-flex jb-align-items-center">
                    <img src="{{author.profileimageurl}}" alt="" class="jb-rounded-circle jb-mr-2" width="32" height="32">
                    <div>
                        <strong class="jb-d-block">{{author.fullname}}</strong>
                        <small class="jb-text-muted">{{timecreated}}</small>
                    </div>
                </div>
                {{#isprivate}}
                <span class="jb-badge jb-badge-secondary">{{#str}}private, local_jobboard{{/str}}</span>
                {{/isprivate}}
            </div>
            <div class="jb-comment-content">
                {{{content}}}
            </div>
        </div>
        {{/comments}}
    </div>
    {{/hascomments}}
    {{^hascomments}}
    <p class="jb-text-muted jb-text-center jb-small jb-py-2">{{#str}}nocomments, local_jobboard{{/str}}</p>
    {{/hascomments}}

    {{#canaddcomment}}
    <div class="jb-add-comment jb-mt-3">
        <form method="post" action="{{addcommenturl}}">
            <input type="hidden" name="sesskey" value="{{sesskey}}">
            <div class="jb-form-group">
                <textarea name="comment" class="jb-form-control" rows="2" placeholder="{{#str}}addcomment, local_jobboard{{/str}}" required></textarea>
            </div>
            <div class="jb-d-flex jb-justify-content-between jb-align-items-center">
                <div class="jb-form-check">
                    <input type="checkbox" name="private" value="1" class="jb-form-check-input" id="comment-private">
                    <label class="jb-form-check-label" for="comment-private">{{#str}}markprivate, local_jobboard{{/str}}</label>
                </div>
                <button type="submit" class="jb-btn jb-btn-sm jb-btn-primary">
                    <i class="fa fa-comment jb-mr-1" aria-hidden="true"></i>
                    {{#str}}addcomment, local_jobboard{{/str}}
                </button>
            </div>
        </form>
    </div>
    {{/canaddcomment}}
</div>
