{{!
    @template local_jobboard/application_form

    Application form wrapper template.

    Context variables:
    * formhtml - Rendered moodleform HTML
    * vacancy - Vacancy object
    * isedit - Boolean if editing existing application
    * application - Existing application if editing
    * steps - Array of form steps for progress indicator
    * currentstep - Current step number
    * backurl - URL to go back
}}
<div class="jb-application-form">
    {{> local_jobboard/components/breadcrumbs }}

    <div class="jb-card jb-mb-4">
        <div class="jb-card-header">
            <h4 class="jb-mb-0">
                {{#isedit}}
                {{#str}}editapplication, local_jobboard{{/str}}
                {{/isedit}}
                {{^isedit}}
                {{#str}}applyfor, local_jobboard{{/str}}: {{vacancy.title}}
                {{/isedit}}
            </h4>
        </div>
        <div class="jb-card-body">
            <div class="jb-alert jb-alert-info jb-mb-3">
                <div class="jb-d-flex jb-align-items-center">
                    <div class="jb-mr-3">
                        <i class="fa fa-briefcase fa-2x" aria-hidden="true"></i>
                    </div>
                    <div>
                        <h6 class="jb-mb-0">{{vacancy.title}}</h6>
                        <small class="jb-text-muted">
                            {{vacancy.code}} | {{vacancy.department}} | {{vacancy.location}}
                        </small>
                    </div>
                </div>
            </div>

            {{#steps}}
            <div class="jb-application-steps jb-mb-4">
                <div class="jb-steps">
                    {{#steps}}
                    <div class="jb-step{{#iscurrent}} jb-step-current{{/iscurrent}}{{#iscompleted}} jb-step-completed{{/iscompleted}}">
                        <div class="jb-step-number">
                            {{#iscompleted}}
                            <i class="fa fa-check" aria-hidden="true"></i>
                            {{/iscompleted}}
                            {{^iscompleted}}
                            {{number}}
                            {{/iscompleted}}
                        </div>
                        <div class="jb-step-label">{{label}}</div>
                    </div>
                    {{/steps}}
                </div>
            </div>
            {{/steps}}

            {{{formhtml}}}
        </div>
    </div>

    <div class="jb-mt-3">
        <a href="{{backurl}}" class="jb-btn jb-btn-outline-secondary">
            <i class="fa fa-arrow-left jb-mr-1" aria-hidden="true"></i>
            {{#str}}cancel, local_jobboard{{/str}}
        </a>
    </div>
</div>
