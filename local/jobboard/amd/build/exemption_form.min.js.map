{"version":3,"file":"exemption_form.min.js","sources":["../src/exemption_form.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * AMD module for ISER exemption form quick selection buttons.\n *\n * @module     local_jobboard/exemption_form\n * @copyright  2024 ISER\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine([], function() {\n    'use strict';\n\n    /**\n     * Select all options in the multi-select element.\n     *\n     * @param {HTMLSelectElement} selectElement The select element\n     */\n    const selectAllDocs = function(selectElement) {\n        for (let i = 0; i < selectElement.options.length; i++) {\n            selectElement.options[i].selected = true;\n        }\n    };\n\n    /**\n     * Select only identity document options.\n     *\n     * @param {HTMLSelectElement} selectElement The select element\n     */\n    const selectIdentityDocs = function(selectElement) {\n        const identity = ['cedula', 'rut', 'libreta_militar'];\n        for (let i = 0; i < selectElement.options.length; i++) {\n            selectElement.options[i].selected = identity.includes(selectElement.options[i].value);\n        }\n    };\n\n    /**\n     * Select only background check document options.\n     *\n     * @param {HTMLSelectElement} selectElement The select element\n     */\n    const selectBackgroundDocs = function(selectElement) {\n        const background = [\n            'antecedentes_procuraduria',\n            'antecedentes_contraloria',\n            'antecedentes_policia',\n            'rnmc'\n        ];\n        for (let i = 0; i < selectElement.options.length; i++) {\n            selectElement.options[i].selected = background.includes(selectElement.options[i].value);\n        }\n    };\n\n    return {\n        /**\n         * Initialize the exemption form quick selection buttons.\n         *\n         * @param {string} selectId The ID of the multi-select element\n         */\n        init: function(selectId) {\n            const selectElement = document.getElementById(selectId);\n            if (!selectElement) {\n                return;\n            }\n\n            // Find the button container.\n            const container = document.querySelector('.exemption-quick-select');\n            if (!container) {\n                return;\n            }\n\n            // Attach event listeners to the buttons.\n            const selectAllBtn = container.querySelector('[data-action=\"selectall\"]');\n            const selectIdentityBtn = container.querySelector('[data-action=\"selectidentity\"]');\n            const selectBackgroundBtn = container.querySelector('[data-action=\"selectbackground\"]');\n\n            if (selectAllBtn) {\n                selectAllBtn.addEventListener('click', function(e) {\n                    e.preventDefault();\n                    selectAllDocs(selectElement);\n                });\n            }\n\n            if (selectIdentityBtn) {\n                selectIdentityBtn.addEventListener('click', function(e) {\n                    e.preventDefault();\n                    selectIdentityDocs(selectElement);\n                });\n            }\n\n            if (selectBackgroundBtn) {\n                selectBackgroundBtn.addEventListener('click', function(e) {\n                    e.preventDefault();\n                    selectBackgroundDocs(selectElement);\n                });\n            }\n        }\n    };\n});\n"],"names":["define","init","selectId","selectElement","document","getElementById","container","querySelector","selectAllBtn","selectIdentityBtn","selectBackgroundBtn","addEventListener","e","preventDefault","i","options","length","selected","selectAllDocs","identity","includes","value","selectIdentityDocs","background","selectBackgroundDocs"],"mappings":";;;;;;;AAuBAA,uCAAO,IAAI,iBA2CA,CAMHC,KAAM,SAASC,gBACLC,cAAgBC,SAASC,eAAeH,cACzCC,2BAKCG,UAAYF,SAASG,cAAc,+BACpCD,uBAKCE,aAAeF,UAAUC,cAAc,6BACvCE,kBAAoBH,UAAUC,cAAc,kCAC5CG,oBAAsBJ,UAAUC,cAAc,oCAEhDC,cACAA,aAAaG,iBAAiB,SAAS,SAASC,GAC5CA,EAAEC,iBA5DI,SAASV,mBACtB,IAAIW,EAAI,EAAGA,EAAIX,cAAcY,QAAQC,OAAQF,IAC9CX,cAAcY,QAAQD,GAAGG,UAAW,EA2D5BC,CAAcf,kBAIlBM,mBACAA,kBAAkBE,iBAAiB,SAAS,SAASC,GACjDA,EAAEC,iBAxDS,SAASV,qBAC1BgB,SAAW,CAAC,SAAU,MAAO,uBAC9B,IAAIL,EAAI,EAAGA,EAAIX,cAAcY,QAAQC,OAAQF,IAC9CX,cAAcY,QAAQD,GAAGG,SAAWE,SAASC,SAASjB,cAAcY,QAAQD,GAAGO,OAsDvEC,CAAmBnB,kBAIvBO,qBACAA,oBAAoBC,iBAAiB,SAAS,SAASC,GACnDA,EAAEC,iBAnDW,SAASV,qBAC5BoB,WAAa,CACf,4BACA,2BACA,uBACA,YAEC,IAAIT,EAAI,EAAGA,EAAIX,cAAcY,QAAQC,OAAQF,IAC9CX,cAAcY,QAAQD,GAAGG,SAAWM,WAAWH,SAASjB,cAAcY,QAAQD,GAAGO,OA4CzEG,CAAqBrB"}