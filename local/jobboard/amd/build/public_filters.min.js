/**
 * AMD module for public filters with dynamic company and department loading.
 *
 * This module handles AJAX-based filtering for public pages using the
 * company_loader and department_loader modules for consistent behavior.
 *
 * @module     local_jobboard/public_filters
 * @copyright  2024 ISER
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_jobboard/public_filters",["jquery","local_jobboard/department_loader","local_jobboard/company_loader"],(function($,DepartmentLoader,CompanyLoader){var loadDepartments=function(departmentSelect,companyId,preselect,allLabel){DepartmentLoader.loadDepartments(departmentSelect,companyId,preselect,allLabel)};return{init:function(options){var companySelector=(options=options||{}).companySelector||"#filter-companyid",departmentSelector=options.departmentSelector||"#filter-departmentid",allLabel=options.allLabel||"Todas las modalidades",companySelect=$(companySelector),departmentSelect=$(departmentSelector);if(companySelect.length&&departmentSelect.length)if(console.log("JobBoard public_filters: Initialized"),options.loadCompaniesAjax)CompanyLoader.initFilter({companySelector:companySelector,departmentSelector:departmentSelector,departmentPreselect:options.preselect,allDepartmentsLabel:allLabel});else{companySelect.on("change",(function(){var companyId=$(this).val();loadDepartments(departmentSelect,companyId,null,allLabel)}));var initialCompany=companySelect.val();initialCompany&&"0"!==initialCompany&&0!==initialCompany&&loadDepartments(departmentSelect,initialCompany,options.preselect,allLabel)}else console.log("JobBoard public_filters: Company or department selects not found")},loadDepartments:loadDepartments}}));

//# sourceMappingURL=public_filters.min.js.map