/**
 * AMD module for confirmation dialogs.
 *
 * Replaces inline onclick="return confirm()" with accessible modal dialogs.
 * Uses Moodle's core/notification module for consistent modal styling.
 *
 * @module     local_jobboard/confirm_action
 * @copyright  2024 ISER
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_jobboard/confirm_action",["jquery","core/notification","core/str"],(function($,Notification,Str){return{init:function(options){var selector=(options=options||{}).selector||"[data-confirm]";$(document).on("click",selector,(function(e){var $el=$(this),confirmMessage=$el.data("confirm");if(!confirmMessage)return!0;e.preventDefault(),e.stopPropagation();var href=$el.attr("href"),isForm=$el.is("button")&&$el.closest("form").length>0,titleKey=$el.data("confirm-title")||"confirm";return Str.get_string(titleKey,"moodle").then((function(title){return Notification.confirm(title,confirmMessage,Str.get_string("yes"),Str.get_string("no"),(function(){isForm?$el.closest("form").submit():href&&(window.location.href=href)}))})).catch((function(){window.confirm(confirmMessage)&&(isForm?$el.closest("form").submit():href&&(window.location.href=href))})),!1}))},confirm:function(message,onConfirm,onCancel,title){title=title||"Confirm",Notification.confirm(title,message,Str.get_string("yes"),Str.get_string("no"),(function(){"function"==typeof onConfirm&&onConfirm()}),(function(){"function"==typeof onCancel&&onCancel()}))}}}));

//# sourceMappingURL=confirm_action.min.js.map