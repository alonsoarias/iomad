/**
 * Loading states module for visual feedback during async operations.
 *
 * @module     local_jobboard/loading_states
 * @copyright  2024 ISER
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_jobboard/loading_states",["jquery"],(function($){var LoadingStates={buttonLoading:function(button,loadingText){var $btn=$(button);$btn.length&&($btn.data("original-text",$btn.val()||$btn.text()),$btn.data("original-html",$btn.html()),$btn.data("was-disabled",$btn.prop("disabled")),$btn.addClass("is-loading"),$btn.prop("disabled",!0),loadingText&&($btn.is("input")?$btn.val(loadingText):$btn.html('<i class="fa fa-spinner fa-spin mr-2"></i>'+loadingText)))},buttonReset:function(button){var $btn=$(button);$btn.length&&($btn.removeClass("is-loading"),$btn.is("input")?$btn.val($btn.data("original-text")):$btn.html($btn.data("original-html")),$btn.data("was-disabled")||$btn.prop("disabled",!1))},containerLoading:function(container){var $container=$(container);$container.length&&$container.addClass("jb-loading-overlay is-loading")},containerReset:function(container){var $container=$(container);$container.length&&$container.removeClass("jb-loading-overlay is-loading")},showSkeleton:function(container,options){var $container=$(container);if($container.length){var html="";if("card"===(options=$.extend({cards:3,type:"card"},options)).type)for(var i=0;i<options.cards;i++)html+='<div class="col-md-4 mb-4">',html+='<div class="card">',html+='<div class="card-body">',html+='<div class="jb-skeleton jb-skeleton-title"></div>',html+='<div class="jb-skeleton jb-skeleton-text"></div>',html+='<div class="jb-skeleton jb-skeleton-text short"></div>',html+="</div></div></div>";else if("list"===options.type){html+='<div class="list-group">';for(var j=0;j<options.cards;j++)html+='<div class="list-group-item">',html+='<div class="d-flex align-items-center">',html+='<div class="jb-skeleton jb-skeleton-avatar mr-3"></div>',html+='<div class="flex-grow-1">',html+='<div class="jb-skeleton jb-skeleton-text" style="width: 60%"></div>',html+='<div class="jb-skeleton jb-skeleton-text short"></div>',html+="</div></div></div>";html+="</div>"}else if("text"===options.type)for(var k=0;k<options.cards;k++)html+='<div class="jb-skeleton jb-skeleton-text mb-2"></div>';$container.data("original-content",$container.html()),$container.html(html)}},hideSkeleton:function(container,newContent){var $container=$(container);$container.length&&(void 0!==newContent?$container.html(newContent):$container.data("original-content")&&$container.html($container.data("original-content")))},initFormHandlers:function(){var self=this;$(document).on("submit","form.mform",(function(){var $submitBtn=$(this).find('input[type="submit"][name="submitbutton"]');$submitBtn.length&&!$submitBtn.hasClass("is-loading")&&self.buttonLoading($submitBtn,M.util.get_string("processingrequest","local_jobboard"))})),$(document).on("click",'[data-loading="true"]',(function(){var $btn=$(this),loadingText=$btn.data("loading-text")||M.util.get_string("loadinginprogress","local_jobboard");self.buttonLoading($btn,loadingText)}))}};return{buttonLoading:function(button,loadingText){LoadingStates.buttonLoading(button,loadingText)},buttonReset:function(button){LoadingStates.buttonReset(button)},containerLoading:function(container){LoadingStates.containerLoading(container)},containerReset:function(container){LoadingStates.containerReset(container)},showSkeleton:function(container,options){LoadingStates.showSkeleton(container,options)},hideSkeleton:function(container,newContent){LoadingStates.hideSkeleton(container,newContent)},init:function(){LoadingStates.initFormHandlers()}}}));

//# sourceMappingURL=loading_states.min.js.map