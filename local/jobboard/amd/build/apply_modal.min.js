/**
 * AMD module for the apply modal popup.
 *
 * Shows a modal asking if the user is registered or not when attempting
 * to apply for a vacancy.
 *
 * @module     local_jobboard/apply_modal
 * @copyright  2024 ISER
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_jobboard/apply_modal",["jquery","core/modal_factory","core/modal_events","core/str","core/notification"],(function($,ModalFactory,ModalEvents,Str,Notification){var showApplyModal=function(vacancyId,vacancyTitle,loginUrl,signupUrl){Str.get_strings([{key:"apply_modal_title",component:"local_jobboard"},{key:"apply_modal_question",component:"local_jobboard"},{key:"apply_modal_registered",component:"local_jobboard"},{key:"apply_modal_not_registered",component:"local_jobboard"},{key:"apply_modal_registered_desc",component:"local_jobboard"},{key:"apply_modal_not_registered_desc",component:"local_jobboard"},{key:"cancel",component:"core"}]).then((function(strings){var modalTitle=strings[0],modalQuestion=strings[1],registeredBtn=strings[2],notRegisteredBtn=strings[3],registeredDesc=strings[4],notRegisteredDesc=strings[5],bodyHtml='<div class="apply-modal-content text-center">';return bodyHtml+='<p class="lead mb-4">'+modalQuestion+"</p>",bodyHtml+='<div class="row">',bodyHtml+='<div class="col-md-6 mb-3">',bodyHtml+='<div class="card h-100">',bodyHtml+='<div class="card-body">',bodyHtml+='<i class="fa fa-user-check fa-3x text-success mb-3"></i>',bodyHtml+='<h5 class="card-title">'+registeredBtn+"</h5>",bodyHtml+='<p class="card-text small text-muted">'+registeredDesc+"</p>",bodyHtml+='<a href="'+loginUrl+"&vacancyid="+vacancyId+'" class="btn btn-success btn-block">',bodyHtml+='<i class="fa fa-sign-in me-2"></i>'+registeredBtn+"</a>",bodyHtml+="</div></div></div>",bodyHtml+='<div class="col-md-6 mb-3">',bodyHtml+='<div class="card h-100">',bodyHtml+='<div class="card-body">',bodyHtml+='<i class="fa fa-user-plus fa-3x text-primary mb-3"></i>',bodyHtml+='<h5 class="card-title">'+notRegisteredBtn+"</h5>",bodyHtml+='<p class="card-text small text-muted">'+notRegisteredDesc+"</p>",bodyHtml+='<a href="'+signupUrl+"?vacancyid="+vacancyId+'" class="btn btn-primary btn-block">',bodyHtml+='<i class="fa fa-user-plus me-2"></i>'+notRegisteredBtn+"</a>",bodyHtml+="</div></div></div>",bodyHtml+="</div></div>",ModalFactory.create({type:ModalFactory.types.DEFAULT,title:modalTitle,body:bodyHtml,large:!0})})).then((function(modal){return modal.getRoot().on(ModalEvents.hidden,(function(){modal.destroy()})),modal.show(),modal})).catch(Notification.exception)};return{init:function(vacancyId,vacancyTitle,loginUrl,signupUrl){$(".jobboard-apply-btn").on("click",(function(e){e.preventDefault();var btnVacancyId=$(this).data("vacancyid")||vacancyId,btnVacancyTitle=$(this).data("vacancytitle")||vacancyTitle;showApplyModal(btnVacancyId,btnVacancyTitle,loginUrl,signupUrl)}))},showApplyModal:showApplyModal}}));

//# sourceMappingURL=apply_modal.min.js.map