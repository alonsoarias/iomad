{"version":3,"file":"review_ui.min.js","sources":["../src/review_ui.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * AMD module for document review UI enhancements.\n *\n * Handles tooltips, collapsible sections, and other UI interactions\n * for the document review page.\n *\n * @module     local_jobboard/review_ui\n * @copyright  2024 ISER\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'], function($) {\n    'use strict';\n\n    /**\n     * Initialize Bootstrap tooltips.\n     */\n    var initTooltips = function() {\n        $('[data-toggle=\"tooltip\"]').tooltip();\n    };\n\n    /**\n     * Initialize collapsible card handlers.\n     */\n    var initCollapsibles = function() {\n        // Handle collapse icon rotation.\n        $('.jb-guidelines-card .card-header').on('click', function() {\n            var $icon = $(this).find('.jb-collapse-icon');\n            var $collapse = $($(this).data('target'));\n\n            $collapse.on('shown.bs.collapse', function() {\n                $icon.removeClass('collapsed');\n            });\n\n            $collapse.on('hidden.bs.collapse', function() {\n                $icon.addClass('collapsed');\n            });\n        });\n    };\n\n    /**\n     * Update progress steps based on document review status.\n     *\n     * @param {Object} stats Document statistics.\n     * @param {number} stats.approved Number of approved documents.\n     * @param {number} stats.rejected Number of rejected documents.\n     * @param {number} stats.pending Number of pending documents.\n     */\n    var updateReviewProgress = function(stats) {\n        var currentStep = 0;\n\n        if (stats.approved + stats.rejected > 0) {\n            currentStep = 1;\n        }\n        if (stats.pending === 0) {\n            currentStep = 2;\n        }\n\n        $('.jb-step').each(function(i) {\n            $(this).removeClass('active completed');\n            if (i < currentStep) {\n                $(this).addClass('completed');\n            }\n            if (i === currentStep) {\n                $(this).addClass('active');\n            }\n        });\n    };\n\n    /**\n     * Initialize the module.\n     *\n     * @param {Object} options Configuration options.\n     * @param {Object} options.stats Initial document statistics.\n     */\n    var init = function(options) {\n        options = options || {};\n\n        // Initialize tooltips.\n        initTooltips();\n\n        // Initialize collapsible sections.\n        initCollapsibles();\n\n        // Update progress if stats provided.\n        if (options.stats) {\n            updateReviewProgress(options.stats);\n        }\n    };\n\n    return {\n        init: init,\n        initTooltips: initTooltips,\n        updateReviewProgress: updateReviewProgress\n    };\n});\n"],"names":["define","$","initTooltips","tooltip","updateReviewProgress","stats","currentStep","approved","rejected","pending","each","i","this","removeClass","addClass","init","options","on","$icon","find","$collapse","data"],"mappings":";;;;;;;;;;AAyBAA,kCAAO,CAAC,WAAW,SAASC,OAMpBC,aAAe,WACfD,EAAE,2BAA2BE,WA8B7BC,qBAAuB,SAASC,WAC5BC,YAAc,EAEdD,MAAME,SAAWF,MAAMG,SAAW,IAClCF,YAAc,GAEI,IAAlBD,MAAMI,UACNH,YAAc,GAGlBL,EAAE,YAAYS,MAAK,SAASC,GACxBV,EAAEW,MAAMC,YAAY,oBAChBF,EAAIL,aACJL,EAAEW,MAAME,SAAS,aAEjBH,IAAML,aACNL,EAAEW,MAAME,SAAS,oBA0BtB,CACHC,KAhBO,SAASC,SAChBA,QAAUA,SAAW,GAGrBd,eArDAD,EAAE,oCAAoCgB,GAAG,SAAS,eAC1CC,MAAQjB,EAAEW,MAAMO,KAAK,qBACrBC,UAAYnB,EAAEA,EAAEW,MAAMS,KAAK,WAE/BD,UAAUH,GAAG,qBAAqB,WAC9BC,MAAML,YAAY,gBAGtBO,UAAUH,GAAG,sBAAsB,WAC/BC,MAAMJ,SAAS,mBAkDnBE,QAAQX,OACRD,qBAAqBY,QAAQX,QAMjCH,aAAcA,aACdE,qBAAsBA"}