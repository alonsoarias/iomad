/**
 * Platform Usage Report - Independent Styles
 *
 * These styles are designed to be completely independent from the theme,
 * ensuring consistent appearance across different Moodle themes.
 *
 * @package   report_platform_usage
 * @copyright 2024 IOMAD
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */

/* ============================================
   CSS Variables - Report Color Palette
   ============================================ */
.report-platform-usage {
    --rpu-primary: #2c5282;
    --rpu-primary-light: #3182ce;
    --rpu-primary-dark: #1a365d;
    --rpu-secondary: #4a5568;
    --rpu-success: #276749;
    --rpu-success-light: #48bb78;
    --rpu-danger: #c53030;
    --rpu-danger-light: #fc8181;
    --rpu-warning: #c05621;
    --rpu-warning-light: #ed8936;
    --rpu-info: #2b6cb0;
    --rpu-info-light: #63b3ed;
    --rpu-text-primary: #1a202c;
    --rpu-text-secondary: #4a5568;
    --rpu-text-muted: #718096;
    --rpu-bg-light: #f7fafc;
    --rpu-bg-white: #ffffff;
    --rpu-border: #e2e8f0;
    --rpu-border-dark: #cbd5e0;
    --rpu-shadow: rgba(0, 0, 0, 0.1);
    --rpu-shadow-hover: rgba(0, 0, 0, 0.15);
    --rpu-radius: 0.5rem;
    --rpu-radius-sm: 0.375rem;
    --rpu-radius-lg: 0.75rem;
    --rpu-transition: 0.2s ease-in-out;
}

/* ============================================
   Base Container Styles
   ============================================ */
.report-platform-usage {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 0.9375rem;
    line-height: 1.6;
    color: var(--rpu-text-primary);
    background-color: var(--rpu-bg-light);
    padding: 1.5rem;
}

/* ============================================
   Heading Styles (h1 - h6)
   ============================================ */
.report-platform-usage h1,
.report-platform-usage h2,
.report-platform-usage h3,
.report-platform-usage h4,
.report-platform-usage h5,
.report-platform-usage h6 {
    font-family: inherit;
    font-weight: 600;
    line-height: 1.3;
    color: var(--rpu-text-primary);
    margin-top: 0;
    margin-bottom: 0.75rem;
}

.report-platform-usage h1 {
    font-size: 1.875rem;
    font-weight: 700;
    color: var(--rpu-primary-dark);
    border-bottom: 3px solid var(--rpu-primary);
    padding-bottom: 0.75rem;
    margin-bottom: 1.5rem;
}

.report-platform-usage h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--rpu-primary);
    border-bottom: 2px solid var(--rpu-border);
    padding-bottom: 0.5rem;
    margin-top: 2rem;
    margin-bottom: 1.25rem;
}

.report-platform-usage h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--rpu-secondary);
    margin-bottom: 1rem;
}

.report-platform-usage h4 {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--rpu-text-primary);
}

.report-platform-usage h5 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--rpu-text-secondary);
}

.report-platform-usage h6 {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--rpu-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* ============================================
   Link Styles (a)
   ============================================ */
.report-platform-usage a {
    color: var(--rpu-primary-light);
    text-decoration: none;
    font-weight: 500;
    transition: color var(--rpu-transition), text-decoration var(--rpu-transition);
    cursor: pointer;
}

.report-platform-usage a:hover {
    color: var(--rpu-primary-dark);
    text-decoration: underline;
}

.report-platform-usage a:focus {
    outline: 2px solid var(--rpu-primary-light);
    outline-offset: 2px;
    border-radius: 2px;
}

.report-platform-usage a:active {
    color: var(--rpu-primary-dark);
}

.report-platform-usage a:visited {
    color: var(--rpu-primary);
}

/* ============================================
   Span and Text Styles
   ============================================ */
.report-platform-usage span {
    font-family: inherit;
}

.report-platform-usage .text-primary {
    color: var(--rpu-primary) !important;
}

.report-platform-usage .text-secondary {
    color: var(--rpu-text-secondary) !important;
}

.report-platform-usage .text-success {
    color: var(--rpu-success) !important;
}

.report-platform-usage .text-danger {
    color: var(--rpu-danger) !important;
}

.report-platform-usage .text-warning {
    color: var(--rpu-warning) !important;
}

.report-platform-usage .text-info {
    color: var(--rpu-info) !important;
}

.report-platform-usage .text-muted {
    color: var(--rpu-text-muted) !important;
}

.report-platform-usage .text-bold,
.report-platform-usage strong,
.report-platform-usage b {
    font-weight: 600;
}

.report-platform-usage em,
.report-platform-usage i:not(.fa):not(.fas):not(.far):not(.fab) {
    font-style: italic;
}

.report-platform-usage small {
    font-size: 0.8125rem;
    color: var(--rpu-text-muted);
}

/* ============================================
   Paragraph and Block Text
   ============================================ */
.report-platform-usage p {
    margin-top: 0;
    margin-bottom: 1rem;
    color: var(--rpu-text-primary);
}

.report-platform-usage .lead {
    font-size: 1.125rem;
    font-weight: 400;
    color: var(--rpu-text-secondary);
    line-height: 1.7;
}

.report-platform-usage .description {
    font-size: 0.875rem;
    color: var(--rpu-text-muted);
    font-style: italic;
    margin-bottom: 0.5rem;
}

/* ============================================
   Card Styles
   ============================================ */
.report-platform-usage .card {
    background-color: var(--rpu-bg-white);
    border: 1px solid var(--rpu-border);
    border-radius: var(--rpu-radius);
    box-shadow: 0 2px 4px var(--rpu-shadow);
    transition: box-shadow var(--rpu-transition), transform var(--rpu-transition);
    overflow: hidden;
    margin-bottom: 1.5rem;
}

.report-platform-usage .card:hover {
    box-shadow: 0 4px 12px var(--rpu-shadow-hover);
}

.report-platform-usage .card-header {
    background-color: var(--rpu-bg-light);
    border-bottom: 1px solid var(--rpu-border);
    padding: 1rem 1.25rem;
}

.report-platform-usage .card-header h5,
.report-platform-usage .card-header h6 {
    margin-bottom: 0;
    font-weight: 600;
    line-height: 1.4;
}

.report-platform-usage .card-header h5 {
    font-size: 1.0625rem;
    color: var(--rpu-primary-dark);
}

.report-platform-usage .card-header h6 {
    font-size: 0.9375rem;
    color: var(--rpu-secondary);
    text-transform: none;
    letter-spacing: normal;
}

.report-platform-usage .card-header small {
    display: block;
    margin-top: 0.375rem;
    font-size: 0.8125rem;
    color: var(--rpu-text-muted);
    font-weight: 400;
}

.report-platform-usage .card-body {
    padding: 1.25rem;
}

.report-platform-usage .card-body h4 {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--rpu-primary);
    margin-bottom: 0.25rem;
}

.report-platform-usage .card-footer {
    background-color: var(--rpu-bg-light);
    border-top: 1px solid var(--rpu-border);
    padding: 0.75rem 1.25rem;
}

/* ============================================
   Table Styles
   ============================================ */
.report-platform-usage .table {
    width: 100%;
    margin-bottom: 1rem;
    background-color: var(--rpu-bg-white);
    border-collapse: collapse;
    font-size: 0.875rem;
}

.report-platform-usage .table th,
.report-platform-usage .table td {
    padding: 0.75rem;
    vertical-align: middle;
    border-top: 1px solid var(--rpu-border);
}

.report-platform-usage .table thead th {
    font-weight: 600;
    font-size: 0.8125rem;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    color: var(--rpu-text-secondary);
    background-color: var(--rpu-bg-light);
    border-bottom: 2px solid var(--rpu-border-dark);
    vertical-align: bottom;
}

.report-platform-usage .table tbody tr:hover {
    background-color: rgba(49, 130, 206, 0.04);
}

.report-platform-usage .table tbody tr:nth-child(even) {
    background-color: rgba(247, 250, 252, 0.5);
}

.report-platform-usage .table a {
    color: var(--rpu-primary-light);
    font-weight: 500;
}

.report-platform-usage .table a:hover {
    color: var(--rpu-primary-dark);
}

.report-platform-usage .table-bordered {
    border: 1px solid var(--rpu-border);
}

.report-platform-usage .table-bordered th,
.report-platform-usage .table-bordered td {
    border: 1px solid var(--rpu-border);
}

.report-platform-usage .table-sm th,
.report-platform-usage .table-sm td {
    padding: 0.5rem;
}

/* ============================================
   Button Styles
   ============================================ */
.report-platform-usage .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.5;
    text-align: center;
    text-decoration: none;
    vertical-align: middle;
    cursor: pointer;
    user-select: none;
    border: 1px solid transparent;
    border-radius: var(--rpu-radius-sm);
    transition: all var(--rpu-transition);
}

.report-platform-usage .btn:hover {
    text-decoration: none;
    transform: translateY(-1px);
}

.report-platform-usage .btn:focus {
    outline: 2px solid var(--rpu-primary-light);
    outline-offset: 2px;
}

.report-platform-usage .btn-primary {
    color: #ffffff;
    background-color: var(--rpu-primary);
    border-color: var(--rpu-primary);
}

.report-platform-usage .btn-primary:hover {
    background-color: var(--rpu-primary-dark);
    border-color: var(--rpu-primary-dark);
}

.report-platform-usage .btn-secondary {
    color: #ffffff;
    background-color: var(--rpu-secondary);
    border-color: var(--rpu-secondary);
}

.report-platform-usage .btn-success {
    color: #ffffff;
    background-color: var(--rpu-success);
    border-color: var(--rpu-success);
}

.report-platform-usage .btn-success:hover {
    background-color: #22543d;
    border-color: #22543d;
}

.report-platform-usage .btn-outline-primary {
    color: var(--rpu-primary);
    background-color: transparent;
    border-color: var(--rpu-primary);
}

.report-platform-usage .btn-outline-primary:hover {
    color: #ffffff;
    background-color: var(--rpu-primary);
}

.report-platform-usage .btn-export {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    font-weight: 500;
    border-radius: var(--rpu-radius-sm);
    box-shadow: 0 1px 2px var(--rpu-shadow);
}

.report-platform-usage .btn-export:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px var(--rpu-shadow-hover);
    text-decoration: none;
}

.report-platform-usage .btn-export i,
.report-platform-usage .btn-export .fa {
    font-size: 1rem;
}

/* ============================================
   Badge Styles
   ============================================ */
.report-platform-usage .badge {
    display: inline-flex;
    align-items: center;
    padding: 0.35em 0.65em;
    font-size: 0.75rem;
    font-weight: 600;
    line-height: 1;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: 0.25rem;
}

.report-platform-usage .badge-primary {
    color: #ffffff;
    background-color: var(--rpu-primary);
}

.report-platform-usage .badge-success {
    color: #ffffff;
    background-color: var(--rpu-success);
}

.report-platform-usage .badge-danger {
    color: #ffffff;
    background-color: var(--rpu-danger);
}

.report-platform-usage .badge-warning {
    color: #1a202c;
    background-color: var(--rpu-warning-light);
}

.report-platform-usage .badge-info {
    color: #ffffff;
    background-color: var(--rpu-info);
}

/* ============================================
   Form Styles
   ============================================ */
.report-platform-usage .form-group {
    margin-bottom: 1rem;
}

.report-platform-usage .form-group label {
    display: block;
    font-weight: 500;
    color: var(--rpu-text-primary);
    margin-bottom: 0.375rem;
    font-size: 0.875rem;
}

.report-platform-usage .form-control {
    display: block;
    width: 100%;
    padding: 0.5rem 0.75rem;
    font-size: 0.9375rem;
    line-height: 1.5;
    color: var(--rpu-text-primary);
    background-color: var(--rpu-bg-white);
    background-clip: padding-box;
    border: 1px solid var(--rpu-border-dark);
    border-radius: var(--rpu-radius-sm);
    transition: border-color var(--rpu-transition), box-shadow var(--rpu-transition);
}

.report-platform-usage .form-control:focus {
    color: var(--rpu-text-primary);
    background-color: var(--rpu-bg-white);
    border-color: var(--rpu-primary-light);
    outline: 0;
    box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.2);
}

.report-platform-usage select.form-control {
    cursor: pointer;
}

/* ============================================
   Filter Section Styles
   ============================================ */
.report-platform-usage .filter-section {
    background-color: var(--rpu-bg-white);
    border: 1px solid var(--rpu-border);
    border-radius: var(--rpu-radius);
    padding: 1.25rem;
    margin-bottom: 1.5rem;
}

.report-platform-usage .filter-section .form-group label {
    font-weight: 500;
    color: var(--rpu-text-secondary);
}

/* ============================================
   Chart Container Styles
   ============================================ */
.report-platform-usage .chart-container {
    position: relative;
    padding: 1rem;
    background-color: var(--rpu-bg-white);
    border-radius: var(--rpu-radius-sm);
}

.report-platform-usage .card-body canvas {
    max-height: 300px;
    width: 100% !important;
}

/* ============================================
   Alert and Message Styles
   ============================================ */
.report-platform-usage .alert {
    padding: 1rem 1.25rem;
    margin-bottom: 1rem;
    border: 1px solid transparent;
    border-radius: var(--rpu-radius-sm);
}

.report-platform-usage .alert-info {
    color: #1a365d;
    background-color: #ebf8ff;
    border-color: #90cdf4;
}

.report-platform-usage .alert-success {
    color: #22543d;
    background-color: #f0fff4;
    border-color: #9ae6b4;
}

.report-platform-usage .alert-warning {
    color: #744210;
    background-color: #fffaf0;
    border-color: #fbd38d;
}

.report-platform-usage .alert-danger {
    color: #742a2a;
    background-color: #fff5f5;
    border-color: #feb2b2;
}

/* ============================================
   Loading State Styles
   ============================================ */
.report-platform-usage .loading-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    color: var(--rpu-text-muted);
}

.report-platform-usage .loading-indicator::before {
    content: "";
    width: 1.5rem;
    height: 1.5rem;
    margin-right: 0.75rem;
    border: 2px solid var(--rpu-border);
    border-top-color: var(--rpu-primary);
    border-radius: 50%;
    animation: rpu-spin 0.8s linear infinite;
}

@keyframes rpu-spin {
    to {
        transform: rotate(360deg);
    }
}

/* ============================================
   Empty State Styles
   ============================================ */
.report-platform-usage .empty-state {
    text-align: center;
    padding: 3rem 1.5rem;
    color: var(--rpu-text-muted);
}

.report-platform-usage .empty-state i,
.report-platform-usage .empty-state .fa {
    font-size: 3rem;
    color: var(--rpu-border-dark);
    margin-bottom: 1rem;
}

.report-platform-usage .empty-state p {
    font-size: 1rem;
    margin-bottom: 0;
}

/* ============================================
   Icon Styles
   ============================================ */
.report-platform-usage .card-header i.fa,
.report-platform-usage .card-header .fas,
.report-platform-usage .card-header .far {
    font-size: 1.125rem;
    opacity: 0.85;
    margin-right: 0.5rem;
}

/* ============================================
   Metric Display Styles
   ============================================ */
.report-platform-usage .metric-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--rpu-primary);
    line-height: 1.2;
}

.report-platform-usage .metric-label {
    font-size: 0.8125rem;
    color: var(--rpu-text-muted);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.03em;
}

.report-platform-usage .metric-change {
    font-size: 0.8125rem;
    font-weight: 500;
}

.report-platform-usage .metric-change.positive {
    color: var(--rpu-success);
}

.report-platform-usage .metric-change.negative {
    color: var(--rpu-danger);
}

/* ============================================
   Row and Column Grid
   ============================================ */
.report-platform-usage .row {
    display: flex;
    flex-wrap: wrap;
    margin-left: -0.75rem;
    margin-right: -0.75rem;
}

.report-platform-usage .col,
.report-platform-usage [class*="col-"] {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
}

/* ============================================
   Responsive Adjustments
   ============================================ */
@media (max-width: 992px) {
    .report-platform-usage h1 {
        font-size: 1.5rem;
    }

    .report-platform-usage h2 {
        font-size: 1.25rem;
    }

    .report-platform-usage h3 {
        font-size: 1.125rem;
    }

    .report-platform-usage .card-body h4 {
        font-size: 1.5rem;
    }
}

@media (max-width: 768px) {
    .report-platform-usage {
        padding: 1rem;
    }

    .report-platform-usage h1 {
        font-size: 1.375rem;
    }

    .report-platform-usage .card-header h5 {
        font-size: 1rem;
    }

    .report-platform-usage .card-header h6 {
        font-size: 0.875rem;
    }

    .report-platform-usage .card-body h4 {
        font-size: 1.25rem;
    }

    .report-platform-usage .metric-value {
        font-size: 1.5rem;
    }

    .report-platform-usage .table {
        font-size: 0.8125rem;
    }

    .report-platform-usage .table th,
    .report-platform-usage .table td {
        padding: 0.5rem;
    }

    .report-platform-usage .btn-export {
        padding: 0.5rem 0.875rem;
        font-size: 0.8125rem;
    }
}

@media (max-width: 576px) {
    .report-platform-usage {
        padding: 0.75rem;
    }

    .report-platform-usage h1 {
        font-size: 1.25rem;
    }

    .report-platform-usage .card {
        margin-bottom: 1rem;
    }

    .report-platform-usage .card-header,
    .report-platform-usage .card-body {
        padding: 1rem;
    }

    .report-platform-usage .filter-section {
        padding: 1rem;
    }
}

/* ============================================
   Print Styles
   ============================================ */
@media print {
    .report-platform-usage {
        background-color: #ffffff;
        padding: 0;
    }

    .report-platform-usage .btn,
    .report-platform-usage .btn-export,
    .report-platform-usage .filter-section {
        display: none !important;
    }

    .report-platform-usage .card {
        box-shadow: none;
        border: 1px solid #dee2e6;
        break-inside: avoid;
    }

    .report-platform-usage .card-header {
        background-color: #f8f9fa;
    }

    .report-platform-usage a {
        color: var(--rpu-text-primary);
        text-decoration: underline;
    }

    .report-platform-usage a[href]::after {
        content: " (" attr(href) ")";
        font-size: 0.75rem;
        color: var(--rpu-text-muted);
    }

    .report-platform-usage .table {
        border: 1px solid #dee2e6;
    }

    .report-platform-usage .table thead th {
        background-color: #f8f9fa !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }
}

/* ============================================
   High Contrast Mode Support
   ============================================ */
@media (prefers-contrast: high) {
    .report-platform-usage {
        --rpu-primary: #0056b3;
        --rpu-text-primary: #000000;
        --rpu-border: #000000;
    }

    .report-platform-usage .card {
        border-width: 2px;
    }

    .report-platform-usage a {
        text-decoration: underline;
    }
}

/* ============================================
   Reduced Motion Support
   ============================================ */
@media (prefers-reduced-motion: reduce) {
    .report-platform-usage,
    .report-platform-usage * {
        transition: none !important;
        animation: none !important;
    }
}
