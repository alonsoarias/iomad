{{!
    @template core_courseformat/local/courseindex/cm

    Course index module - Simplified design for Theme INTEB
    Status icons: ○ not started, ◐ in progress, ✓ completed

    @package     theme_inteb
    @copyright   2025 Vicerrectoría Académica ISER <vicerrectoria@iser.edu.co>
    @author      Alonso Arias <soporteplataformas@iser.edu.co>
    @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later

    Example context (json):
    {
      "id": "12",
      "name": "Announcements",
      "url": "#",
      "isactive": 1,
      "accessvisible": 1
    }
}}
<li class="course-index-item {{#isactive}}active{{/isactive}} {{^accessvisible}}dimmed{{/accessvisible}}"
    id="{{uniqid}}-course-index-cm-{{id}}"
    data-for="cm"
    data-id="{{id}}"
    role="treeitem">
  {{^hasdelegatedsection}}
    {{! Status icon }}
    <span class="activity-status-icon status-not-started" data-cm-id="{{id}}"></span>
    {{! Link }}
    {{#uservisible}}
      <a class="course-index-link text-truncate"
         {{#url}}href="{{{url}}}"{{/url}}
         {{^url}}href="#{{{anchor}}}" data-anchor="true"{{/url}}
         data-for="cm_name"
         tabindex="-1"
         title="{{{name}}}">{{{name}}}</a>
    {{/uservisible}}
    {{^uservisible}}
      <a class="course-index-link text-truncate"
         href="#{{{anchor}}}"
         data-for="cm_name"
         tabindex="-1"
         data-anchor="true"
         title="{{{name}}}">{{{name}}}</a>
    {{/uservisible}}
  {{/hasdelegatedsection}}
  {{#hasdelegatedsection}}
    {{#sectioninfo}}
      {{> core_courseformat/local/courseindex/section}}
    {{/sectioninfo}}
  {{/hasdelegatedsection}}
</li>
{{#js}}
require(['core_courseformat/local/courseindex/cm'], function(component) {
  component.init('{{uniqid}}-course-index-cm-{{id}}');
});
{{/js}}
