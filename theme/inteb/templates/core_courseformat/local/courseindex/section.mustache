{{!
    @template core_courseformat/local/courseindex/section

    Course index section - Simplified design for Theme INTEB
    Clean interface with ISER branding colors

    @package     theme_inteb
    @copyright   2025 Vicerrectoría Académica ISER <vicerrectoria@iser.edu.co>
    @author      Alonso Arias <soporteplataformas@iser.edu.co>
    @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later

    Example context (json):
    {
      "title": "General",
      "id": 23,
      "uniqid": "0",
      "number": 1,
      "indexcollapsed": 1,
      "current": 1,
      "visible": 1,
      "cms": []
    }
}}
<div class="course-index-section {{#current}}current{{/current}}"
     id="{{uniqid}}-course-index-section-{{id}}"
     data-for="section"
     data-id="{{id}}"
     data-number="{{number}}"
     role="treeitem">

  {{! Section Header }}
  <div class="course-index-header {{^visible}}dimmed{{/visible}}"
       id="course-index-section{{number}}"
       data-for="section_item">

    {{! Toggle }}
    <a data-toggle="collapse"
       href="#course-index-collapse{{number}}"
       class="course-index-toggle {{#indexcollapsed}}collapsed{{/indexcollapsed}}"
       aria-expanded="{{^indexcollapsed}}true{{/indexcollapsed}}{{#indexcollapsed}}false{{/indexcollapsed}}"
       aria-controls="course-index-collapse{{number}}"
       tabindex="-1">
      <i class="fa fa-chevron-down"></i>
    </a>

    {{! Title }}
    <h4 class="section-title">{{{title}}}</h4>

    {{! Percentage badge }}
    <span class="section-percentage"
          data-section-id="{{id}}"
          style="display: none;">0%</span>
  </div>

  {{! Content }}
  <div id="course-index-collapse{{number}}"
       class="course-index-content collapse {{^indexcollapsed}}show{{/indexcollapsed}}"
       role="group">
    <ul class="course-index-section-content"
        data-for="cmlist"
        data-id="{{id}}"
        role="group">
      {{#cms}}
        {{> core_courseformat/local/courseindex/cm}}
      {{/cms}}
    </ul>
  </div>

</div>
{{#js}}
require(['core_courseformat/local/courseindex/section'], function(component) {
  component.init('{{uniqid}}-course-index-section-{{id}}');
});
{{/js}}
