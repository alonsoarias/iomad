{{!
    @template core_courseformat/local/courseindex/section

    Course index section - Redesigned for Theme INTEB
    Shows section name with percentage badge only (no progress bar)

    @package     theme_inteb
    @copyright   2025 Vicerrectoría Académica ISER <vicerrectoria@iser.edu.co>
    @author      Alonso Arias <soporteplataformas@iser.edu.co>
    @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later

    Example context (json):
    {
      "title": "General",
      "id": 23,
      "uniqid": "0",
      "number": 1,
      "sectionurl": "#",
      "indexcollapsed": 1,
      "current": 1,
      "visible": 1,
      "hasrestrictions": 0,
      "highlighted": "1",
      "cms": [ ... ]
    }
}}
<div class="course-index-section w-100 {{#current}}current{{/current}} {{#component}}delegated-section{{/component}}"
     id="{{uniqid}}-course-index-section-{{id}}"
     data-for="section"
     data-id="{{id}}"
     data-number="{{number}}"
     role="treeitem"
     aria-owns="course-index-collapse{{number}}">

  {{! Section Header with toggle, title, and percentage }}
  <div class="course-index-header {{^visible}}dimmed{{/visible}} {{#current}}current-section{{/current}} {{#hasrestrictions}}restrictions{{/hasrestrictions}}"
       id="course-index-section{{number}}"
       data-for="section_item">

    {{! Toggle icon (chevron) }}
    <a data-toggle="collapse"
       href="#course-index-collapse{{number}}"
       class="course-index-toggle {{#indexcollapsed}}collapsed{{/indexcollapsed}}"
       aria-expanded="{{^indexcollapsed}}true{{/indexcollapsed}}{{#indexcollapsed}}false{{/indexcollapsed}}"
       aria-controls="course-index-collapse{{number}}"
       tabindex="-1">
      <i class="fa fa-chevron-down"></i>
      <span class="sr-only">{{#str}}toggle section{{/str}}</span>
    </a>

    {{! Section title }}
    <h4 class="section-title">
      {{{title}}}
    </h4>

    {{! Section percentage badge }}
    <span class="section-percentage"
          data-section-id="{{id}}"
          data-section-number="{{number}}"
          style="display: none;">0%</span>

  </div>

  {{! Section Content (activities list) }}
  <div id="course-index-collapse{{number}}"
       class="course-index-content collapse {{^indexcollapsed}}show{{/indexcollapsed}}"
       aria-labelledby="course-index-section{{number}}"
       role="group">
    <ul class="course-index-section-content list-unstyled"
        data-for="cmlist"
        data-id="{{id}}"
        role="group">
      {{#cms}}
        {{> core_courseformat/local/courseindex/cm}}
      {{/cms}}
    </ul>
  </div>

</div>
{{#js}}
require(['core_courseformat/local/courseindex/section'], function(component) {
  component.init('{{uniqid}}-course-index-section-{{id}}');
});
{{/js}}
