{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.

    @template block_mycourses/inprogress-view

    This template renders the inprogress list view for the mycourses block.
    Redesigned for theme_inteb - Consistent with profile courses design.
}}
<div id="inprogress-view-{{uniqid}}" data-region="inprogress-view" class="inteb-mycourses-view inteb-list-view">
    <div class="tab-content">
        <div class="tab-pane active" id="mycourses_inprogress_view">
            <div id="paged-content-container-{{uniqid}}" data-region="paged-content-container">
                <div id="page-container-1" data-region="page-container" class="paged-content-page-container" aria-live="polite">
                    <div id="paged-content-page" data-page="1">
                        <div class="inteb-course-list" id="{{uniqid}}">
                            {{#inprogressview.courses}}
                            <div class="inteb-list-item inteb-inprogress-item card mb-3 shadow-sm" data-region="course-content" data-course-id="{{{id}}}">
                                <div class="card-body p-0">
                                    <div class="row no-gutters">
                                        {{! Course Image - Left Column }}
                                        <div class="col-md-3 col-lg-2">
                                            {{^visible}}
                                            <div class="inteb-list-img-wrapper d-block position-relative dimmed_text">
                                            {{/visible}}
                                            {{#visible}}
                                            <a href="{{{url}}}" class="inteb-list-img-wrapper d-block position-relative" tabindex="-1" title="{{{fullname}}}">
                                            {{/visible}}
                                                <div class="inteb-list-img" style="background-image: url('{{{image}}}');">
                                                    <span class="sr-only">{{{fullname}}}</span>
                                                </div>
                                                {{! Progress Badge Overlay }}
                                                <div class="inteb-list-badge position-absolute">
                                                    {{#hasprogress}}
                                                    <span class="badge badge-primary">
                                                        <i class="fa fa-spinner fa-spin mr-1" aria-hidden="true"></i>
                                                        {{progress}}%
                                                    </span>
                                                    {{/hasprogress}}
                                                    {{^hasprogress}}
                                                    <span class="badge badge-info">
                                                        <i class="fa fa-play mr-1" aria-hidden="true"></i>
                                                        {{#str}}inprogress, theme_inteb{{/str}}
                                                    </span>
                                                    {{/hasprogress}}
                                                </div>
                                            {{#visible}}
                                            </a>
                                            {{/visible}}
                                            {{^visible}}
                                            </div>
                                            {{/visible}}
                                        </div>

                                        {{! Course Content - Right Column }}
                                        <div class="col-md-9 col-lg-10">
                                            <div class="inteb-list-content p-3">
                                                {{! Top Row: Title/Category and Action Button }}
                                                <div class="d-flex justify-content-between align-items-start flex-wrap">
                                                    <div class="inteb-list-title-wrap mb-2">
                                                        {{! Visibility Warning }}
                                                        {{^visible}}
                                                        <span class="badge badge-warning mr-2" title="{{#str}}hiddenfromstudents{{/str}}">
                                                            <i class="fa fa-eye-slash" aria-hidden="true"></i>
                                                        </span>
                                                        {{/visible}}
                                                        {{! Course Title }}
                                                        {{#visible}}
                                                        <a href="{{{url}}}" class="inteb-list-title h5 mb-0 text-dark" title="{{{fullname}}}">
                                                            {{{fullname}}}
                                                        </a>
                                                        {{/visible}}
                                                        {{^visible}}
                                                        <span class="inteb-list-title h5 mb-0 text-muted">{{{fullname}}}</span>
                                                        {{/visible}}
                                                        {{! Category Badge }}
                                                        {{#coursecategory}}
                                                        <span class="badge badge-light ml-2">{{{coursecategory}}}</span>
                                                        {{/coursecategory}}
                                                    </div>

                                                    {{! Action Button }}
                                                    <div class="inteb-list-action">
                                                        <a href="{{{url}}}" class="btn btn-primary btn-sm">
                                                            <i class="fa fa-play-circle mr-1" aria-hidden="true"></i>
                                                            {{#str}}mycourses_continue, theme_inteb{{/str}}
                                                        </a>
                                                    </div>
                                                </div>

                                                {{! Course Summary }}
                                                {{#summary}}
                                                <p class="inteb-list-summary text-muted small mb-2">{{{summary}}}</p>
                                                {{/summary}}

                                                {{! Progress Section }}
                                                <div class="inteb-list-progress mt-2">
                                                    <div class="d-flex justify-content-between align-items-center mb-1">
                                                        <span class="small text-muted">{{#str}}mycourses_progress, theme_inteb{{/str}}</span>
                                                        <span class="small font-weight-bold text-primary">
                                                            {{#hasprogress}}{{progress}}{{/hasprogress}}{{^hasprogress}}0{{/hasprogress}}%
                                                        </span>
                                                    </div>
                                                    <div class="progress inteb-progress" style="height: 8px;" title="{{progresstooltip}}">
                                                        <div class="progress-bar inteb-progress-bar"
                                                             role="progressbar"
                                                             style="width: {{#hasprogress}}{{progress}}{{/hasprogress}}{{^hasprogress}}0{{/hasprogress}}%;"
                                                             aria-valuenow="{{#hasprogress}}{{progress}}{{/hasprogress}}{{^hasprogress}}0{{/hasprogress}}"
                                                             aria-valuemin="0"
                                                             aria-valuemax="100">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {{/inprogressview.courses}}

                            {{! Empty State }}
                            {{^inprogressview.courses}}
                            <div class="inteb-empty-state text-center py-5">
                                <div class="inteb-empty-icon mb-3">
                                    <i class="fa fa-graduation-cap fa-4x text-muted"></i>
                                </div>
                                <h5 class="text-muted mb-2">{{#str}}mycourses_noinprogress, theme_inteb{{/str}}</h5>
                                <p class="text-muted small">{{#str}}mycourses_noinprogress, theme_inteb{{/str}}</p>
                            </div>
                            {{/inprogressview.courses}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
