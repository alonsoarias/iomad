/**
 * Copy/paste prevention JavaScript module.
 *
 * @module     theme_inteb/prevent_copy_paste
 * @copyright  2025 IngeWeb https://www.ingeweb.co
 * @author     Pedro Arias <soporte@ingeweb.co>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_inteb/prevent_copy_paste",["jquery"],(function($){var SELECTORS={ALLOWED_ELEMENTS:'input, textarea, [contenteditable="true"], .editor_atto_content, .atto_text, [role="textbox"]'},PreventCopyPaste=function(){this.registerEventListeners(),this.disableSelection()};function isElementAllowed(e){if(!e)return!1;var t=$(e);return!!t.is(SELECTORS.ALLOWED_ELEMENTS)||t.closest(SELECTORS.ALLOWED_ELEMENTS).length>0||t.closest('[contenteditable="true"]').length>0||t.closest(".editor_atto_content, .atto_text").length>0}return PreventCopyPaste.prototype.registerEventListeners=function(){$(document).on("contextmenu",(function(e){if(!isElementAllowed(e.target))return e.preventDefault(),!1})),$(document).on("keydown",(function(e){if(!isElementAllowed(e.target)){if(e.ctrlKey||e.metaKey){var t=e.key?e.key.toLowerCase():"",n=e.keyCode||e.which;if(-1!==["c","v","x","a","s","u","p","j","d","f","g","h","i","k","w"].indexOf(t)||-1!==[67,86,88,65,83,85,80,74,68,70,71,72,73,75,87].indexOf(n))return e.preventDefault(),e.stopPropagation(),!1}if("F12"===e.key||123===e.keyCode||123===e.which)return e.preventDefault(),!1;if(e.ctrlKey&&e.shiftKey){var r=e.keyCode||e.which;if(73===r||74===r||67===r)return e.preventDefault(),e.stopPropagation(),!1}if(e.altKey&&("PrintScreen"===e.key||44===e.keyCode))return e.preventDefault(),!1;if("PrintScreen"===e.key||44===e.keyCode)return e.preventDefault(),!1}})),$(document).on("copy paste cut",(function(e){if(!isElementAllowed(e.target))return e.preventDefault(),!1})),$(document).on("dragstart drop",(function(e){if(!isElementAllowed(e.target))return e.preventDefault(),!1})),$(document).on("selectstart",(function(e){if(!isElementAllowed(e.target))return e.preventDefault(),!1})),window.addEventListener?window.addEventListener("beforeprint",(function(e){return e.preventDefault(),!1})):window.attachEvent&&window.attachEvent("onbeforeprint",(function(e){return e.returnValue=!1,!1}))},PreventCopyPaste.prototype.disableSelection=function(){$("body").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","-webkit-touch-callout":"none","-webkit-tap-highlight-color":"transparent"}),0===$("#prevent-copy-paste-styles").length&&$("head").append('<style id="prevent-copy-paste-styles">body { -webkit-user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; user-select: none !important; -webkit-touch-callout: none !important; -webkit-tap-highlight-color: transparent !important; }input, textarea, [contenteditable="true"], .editor_atto_content, .atto_text, [role="textbox"] { -webkit-user-select: text !important; -moz-user-select: text !important; -ms-user-select: text !important; user-select: text !important; }.editor_atto_content *, .atto_text *, [contenteditable="true"] * { -webkit-user-select: text !important; -moz-user-select: text !important; -ms-user-select: text !important; user-select: text !important; }::selection { background: transparent; }::-moz-selection { background: transparent; }input::selection, textarea::selection, [contenteditable="true"]::selection, .editor_atto_content ::selection, .atto_text ::selection { background: #b3d4fc !important; }input::-moz-selection, textarea::-moz-selection, [contenteditable="true"]::-moz-selection, .editor_atto_content ::-moz-selection, .atto_text ::-moz-selection { background: #b3d4fc !important; }</style>')},{init:function(){$(document).ready((function(){return new PreventCopyPaste}))}}}));
